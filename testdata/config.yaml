receivers:
  prometheus:
    config:
      scrape_configs:
        - job_name: 'prometheus'
          static_configs:
            - targets: ['localhost:9090']

processors:
  metriclimiter:
    metric_names:
      - "system.cpu.utilization"
      - "system.memory.usage"
      - "system.disk.io_time"
    rate_interval_seconds: 60

  batch:
    send_batch_size: 1024
    timeout: 10s

exporters:
  otlp:
    endpoint: localhost:4317
    tls:
      insecure: true

service:
  pipelines:
    metrics:
      receivers: [prometheus]
      processors: [metriclimiter, batch]
      exporters: [otlp]
